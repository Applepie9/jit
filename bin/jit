#!/usr/bin/env ruby
# frozen_string_literal: true

require_relative "../lib/command"

begin
  name = ARGV.shift
  Command.execute(name)
rescue Command::Unknown => e
  warn "jit: #{e.message}"
  exit 1
rescue StandardError => e
  warn "fatal: #{e.message}"
  if ENV["DEBUG"]
    e.backtrace.each do |line|
      warn "        from #{line}"
    end
  end
  exit 1
end
